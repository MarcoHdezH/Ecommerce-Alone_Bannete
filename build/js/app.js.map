{"version":3,"sources":["app.js"],"names":["iniciarApp","navegacionFija","crearGaleria","scrollNav","barra","document","querySelector","nosotros","body","window","addEventListener","getBoundingClientRect","bottom","classList","add","remove","querySelectorAll","forEach","enlace","e","preventDefault","seccionScroll","target","attributes","href","value","scrollIntoView","behavior","galeria","i","imagen","createElement","innerHTML","onclick","mostrarImagen","appendChild","id","overlay","cerrar","textContent","email","asunto","mensaje","inputEmail","inputAsunto","inputMensaje","formulario","btnSubmit","btnReset","spinner","validar","trim","mostrarAlerta","parentElement","name","comprobarEmail","test","validarEmail","limpiarAlerta","toLowerCase","referencia","error","alerta","Object","values","includes","disabled","resetFormulario","reset","setTimeout","alertaExito","carrito","listaCursos","contenedorCarrito","vaciarCarritoBtn","articulosCarrito","cargarEventListeners","agregarCurso","eliminarCurso","vaciarCarrito","JSON","parse","localStorage","getItem","carritoHTML","contains","leerDatosCurso","curso","infoCurso","titulo","precio","getAttribute","cantidad","some","cursos","map","parseInt","console","log","cursoId","filter","row","sincronizarStorage","setItem","stringify","firstChild","removeChild"],"mappings":"AAIA,SAASA,aACLC,iBACAC,eACAC,YAGJ,SAASF,iBACL,MAAMG,EAAQC,SAASC,cAAc,WAC/BC,EAAWF,SAASC,cAAc,mBAClCE,EAAOH,SAASC,cAAc,QAGpCG,OAAOC,iBAAiB,UAAU,WAC1BH,EAASI,wBAAwBC,OAAS,GAC1CR,EAAMS,UAAUC,IAAI,QACpBN,EAAKK,UAAUC,IAAI,iBAEnBV,EAAMS,UAAUE,OAAO,QACvBP,EAAKK,UAAUE,OAAO,mBAKlC,SAASZ,YACWE,SAASW,iBAAiB,2BAElCC,QAASC,IACbA,EAAOR,iBAAiB,SAAQ,SAASS,GACrCA,EAAEC,iBAEF,MAAMC,EAAgBF,EAAEG,OAAOC,WAAWC,KAAKC,MAC/BpB,SAASC,cAAce,GAE/BK,eAAe,CAACC,SAAS,gBAK7C,SAASzB,eACL,MAAM0B,EAAUvB,SAASC,cAAc,qBAEvC,IAAI,IAAIuB,EAAI,EAAGA,GAAK,GAAIA,IAAI,CACxB,MAAMC,EAASzB,SAAS0B,cAAc,WACtCD,EAAOE,UAAY,iDACmBH,4EACAA,gHACoCA,iCAG1EC,EAAOG,QAAU,WACbC,cAAcL,IAGlBD,EAAQO,YAAYL,IAI5B,SAASI,cAAcE,GACnB,MAAMN,EAASzB,SAAS0B,cAAc,WAClCD,EAAOE,UAAY,kDACoBI,6EACAA,iHACoCA,iCAI3E,MAAMC,EAAUhC,SAAS0B,cAAc,OACvCM,EAAQF,YAAYL,GACpBO,EAAQxB,UAAUC,IAAI,WAGtB,MAAMwB,EAASjC,SAAS0B,cAAc,KACtCO,EAAOC,YAAc,IACrBD,EAAOzB,UAAUC,IAAI,cACrBwB,EAAOL,QAAU,WACA5B,SAASC,cAAc,QAC/BO,UAAUE,OAAO,SACtBsB,EAAQtB,UAEZsB,EAAQF,YAAYG,GAGpB,MAAM9B,EAAOH,SAASC,cAAc,QACpCE,EAAK2B,YAAYE,GACjB7B,EAAKK,UAAUC,IAAI,SAxF3BT,SAASK,iBAAiB,oBAAmB,WACzCV,gBA4FJK,SAASK,iBAAiB,oBAAoB,WAE1C,MAAM8B,EAAQ,CACVA,MAAO,GACPC,OAAQ,GACRC,QAAS,IAIPC,EAAatC,SAASC,cAAc,UACpCsC,EAAcvC,SAASC,cAAc,WACrCuC,EAAexC,SAASC,cAAc,YACtCwC,EAAazC,SAASC,cAAc,eACpCyC,EAAY1C,SAASC,cAAc,qCACnC0C,EAAW3C,SAASC,cAAc,oCAClC2C,EAAU5C,SAASC,cAAc,YAuCvC,SAAS4C,EAAQ/B,GACb,MAA6B,KAA1BA,EAAEG,OAAOG,MAAM0B,QACdC,EAAc,YAAYjC,EAAEG,OAAOc,oBAAqBjB,EAAEG,OAAO+B,eACjEb,EAAMrB,EAAEG,OAAOgC,MAAQ,QACvBC,KAIe,UAAhBpC,EAAEG,OAAOc,IAoChB,SAAsBI,GAGlB,MAFe,iDACSgB,KAAKhB,GAtCEiB,CAAatC,EAAEG,OAAOG,QAOrDiC,EAAcvC,EAAEG,OAAO+B,eAGvBb,EAAMrB,EAAEG,OAAOgC,MAAQnC,EAAEG,OAAOG,MAAM0B,OAAOQ,mBAG7CJ,MAZIH,EAAc,wBAAyBjC,EAAEG,OAAO+B,eAChDb,EAAMrB,EAAEG,OAAOgC,MAAQ,QACvBC,KAaR,SAASH,EAAcV,EAASkB,GAC5BF,EAAcE,GAGd,MAAMC,EAAQxD,SAAS0B,cAAc,KACrC8B,EAAMtB,YAAcG,EACpBmB,EAAMhD,UAAUC,IAAI,aAAc,aAAc,MAAO,eAGvD8C,EAAWzB,YAAY0B,GAG3B,SAASH,EAAcE,GAEnB,MAAME,EAASF,EAAWtD,cAAc,eACrCwD,GACCA,EAAO/C,SAUf,SAASwC,IACL,GAAGQ,OAAOC,OAAOxB,GAAOyB,SAAS,IAG7B,OAFAlB,EAAUlC,UAAUC,IAAI,mBACxBiC,EAAUmB,UAAW,GAGzBnB,EAAUlC,UAAUE,OAAO,cAC3BgC,EAAUmB,UAAW,EAGzB,SAASC,IAEL3B,EAAMA,MAAQ,GACdA,EAAMC,OAAS,GACfD,EAAME,QAAU,GAEhBI,EAAWsB,QACXb,IAvGJZ,EAAWjC,iBAAiB,QAASwC,GACrCN,EAAYlC,iBAAiB,QAASwC,GACtCL,EAAanC,iBAAiB,QAASwC,GAEvCJ,EAAWpC,iBAAiB,UAO5B,SAAqBS,GACjBA,EAAEC,iBAEF6B,EAAQpC,UAAUC,IAAI,QACtBmC,EAAQpC,UAAUE,OAAO,UAEzBsD,WAAW,KACPpB,EAAQpC,UAAUE,OAAO,QACzBkC,EAAQpC,UAAUC,IAAI,UAEtBqD,IAGA,MAAMG,EAAcjE,SAAS0B,cAAc,KAC3CuC,EAAYzD,UAAUC,IAAI,eAAgB,aAAc,MAAO,cAAe,aAAc,QAAS,YAAa,UAAW,aAC7HwD,EAAY/B,YAAc,uBAE1BO,EAAWX,YAAYmC,GAEvBD,WAAW,KACPC,EAAYvD,UACb,MACJ,QA3BPiC,EAAStC,iBAAiB,SAAS,SAASS,GACxCA,EAAEC,iBACF+C,UAuGR,MAAMI,QAAUlE,SAASC,cAAc,YACjCkE,YAAcnE,SAASC,cAAc,oBACrCmE,kBAAoBpE,SAASC,cAAc,wBAC3CoE,iBAAmBrE,SAASC,cAAc,mBAChD,IAAIqE,iBAAmB,GAKvB,SAASC,uBAEJJ,YAAY9D,iBAAiB,QAASmE,cAGtCN,QAAQ7D,iBAAiB,QAASoE,eAGlCJ,iBAAiBhE,iBAAiB,QAASqE,eAI3C1E,SAASK,iBAAiB,mBAAoB,KACzCiE,iBAAmBK,KAAKC,MAAOC,aAAaC,QAAQ,aAAgB,GAEpEC,gBAMV,SAASP,aAAa1D,GAGjB,GAFAA,EAAEC,iBAECD,EAAEG,OAAOT,UAAUwE,SAAS,mBAAoB,CAG9CC,eAFcnE,EAAEG,OAAO+B,cAAcA,gBAO/C,SAASiC,eAAeC,GACnB,MAAMC,EAAY,CACbC,OAAQF,EAAMjF,cAAc,MAAMiC,YAClCmD,OAAQH,EAAMjF,cAAc,gBAAgBiC,YAC5CH,GAAImD,EAAMjF,cAAc,KAAKqF,aAAa,WAC1CC,SAAU,GAIf,GAAIjB,iBAAiBkB,KAAMN,GAASA,EAAMnD,KAAOoD,EAAUpD,IAAO,CAC7D,MAAM0D,EAASnB,iBAAiBoB,IAAKR,IAChC,GAAIA,EAAMnD,KAAOoD,EAAUpD,GAAK,CAC3B,IAAIwD,EAAWI,SAAST,EAAMK,UAG9B,OAFAA,IACAL,EAAMK,SAAYA,EACXL,EAEP,OAAOA,IAGjBZ,iBAAmB,IAAImB,QAEvBnB,iBAAmB,IAAIA,iBAAkBa,GAG9CS,QAAQC,IAAIvB,kBAKZS,cAIL,SAASN,cAAc3D,GAElB,GADAA,EAAEC,iBACCD,EAAEG,OAAOT,UAAUwE,SAAS,gBAAkB,CAE5C,MACMc,EADQhF,EAAEG,OAAO+B,cAAcA,cACf/C,cAAc,KAAKqF,aAAa,WAGtDhB,iBAAmBA,iBAAiByB,OAAOb,GAASA,EAAMnD,KAAO+D,GAEjEf,eAMV,SAASA,cAEJL,gBAEAJ,iBAAiB1D,QAAQsE,IACpB,MAAMc,EAAMhG,SAAS0B,cAAc,MACnCsE,EAAIrE,UAAY,wBACLuD,EAAME,mCACNF,EAAMG,mCACNH,EAAMK,sGAEqCL,EAAMnD,8CAG5DqC,kBAAkBtC,YAAYkE,KAInCC,qBAML,SAASA,qBACJpB,aAAaqB,QAAQ,UAAWvB,KAAKwB,UAAU7B,mBAIpD,SAASI,gBAEJ,KAAMN,kBAAkBgC,YACnBhC,kBAAkBiC,YAAYjC,kBAAkBgC,YApH1D7B","file":"app.js","sourcesContent":["document.addEventListener('DOMContentLoaded',function(){\r\n    iniciarApp();\r\n});\r\n\r\nfunction iniciarApp(){\r\n    navegacionFija();\r\n    crearGaleria();\r\n    scrollNav();\r\n}\r\n\r\nfunction navegacionFija() {\r\n    const barra = document.querySelector('.header');\r\n    const nosotros = document.querySelector('.sobre-nosotros');\r\n    const body = document.querySelector('body');\r\n\r\n\r\n    window.addEventListener('scroll', function() {\r\n        if( nosotros.getBoundingClientRect().bottom < 0  ) {\r\n            barra.classList.add('fijo');\r\n            body.classList.add('body-scroll');\r\n        } else {\r\n            barra.classList.remove('fijo');\r\n            body.classList.remove('body-scroll');\r\n        }\r\n    });\r\n}\r\n\r\nfunction scrollNav(){\r\n    const enlaces = document.querySelectorAll('.navegacion-principal a');\r\n\r\n    enlaces.forEach( enlace =>{\r\n        enlace.addEventListener('click',function(e){\r\n            e.preventDefault();\r\n\r\n            const seccionScroll = e.target.attributes.href.value;\r\n            const seccion = document.querySelector(seccionScroll);\r\n\r\n            seccion.scrollIntoView({behavior:\"smooth\"});\r\n        });\r\n    });\r\n}\r\n\r\nfunction crearGaleria(){\r\n    const galeria = document.querySelector('.galeria-imagenes');\r\n\r\n    for(let i = 1; i <= 12; i++){\r\n        const imagen = document.createElement('picture');\r\n        imagen.innerHTML = `\r\n            <source srcset=\"build/img/thumb/${i}.avif\" type=\"imagen/avif\">\r\n            <source srcset=\"build/img/thumb/${i}.webp\" type=\"imagen/avif\">\r\n            <img loading=\"lazy\" width=\"200\" height=\"300\" src=\"./build/img/thumb/${i}.jpg\" alt=\"Imagen\">\r\n        `;\r\n\r\n        imagen.onclick = function(){\r\n            mostrarImagen(i);\r\n        }\r\n\r\n        galeria.appendChild(imagen);\r\n    }\r\n}\r\n\r\nfunction mostrarImagen(id){\r\n    const imagen = document.createElement('picture');\r\n        imagen.innerHTML = `\r\n            <source srcset=\"build/img/Grande/${id}.avif\" type=\"imagen/avif\">\r\n            <source srcset=\"build/img/Grande/${id}.webp\" type=\"imagen/avif\">\r\n            <img loading=\"lazy\" width=\"200\" height=\"300\" src=\"./build/img/Grande/${id}.jpg\" alt=\"Imagen\">\r\n        `;\r\n\r\n        //Crear Overlay\r\n        const overlay = document.createElement('DIV');\r\n        overlay.appendChild(imagen);\r\n        overlay.classList.add('overlay');\r\n\r\n        //Cerrar Overlay\r\n        const cerrar = document.createElement('p');\r\n        cerrar.textContent = 'X';\r\n        cerrar.classList.add('btn-cerrar');\r\n        cerrar.onclick = function(){\r\n            const body = document.querySelector('body');\r\n            body.classList.remove('fijar');\r\n            overlay.remove();\r\n        };\r\n        overlay.appendChild(cerrar);\r\n\r\n        //Añadir HTML\r\n        const body = document.querySelector('body');\r\n        body.appendChild(overlay);\r\n        body.classList.add('fijar');\r\n}\r\n\r\n//Formulario\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n\r\n    const email = {\r\n        email: '',\r\n        asunto: '',\r\n        mensaje: ''\r\n    }\r\n\r\n    // Seleccionar los elementos de la interfaz\r\n    const inputEmail = document.querySelector('#email');\r\n    const inputAsunto = document.querySelector('#asunto');\r\n    const inputMensaje = document.querySelector('#mensaje');\r\n    const formulario = document.querySelector('#formulario');\r\n    const btnSubmit = document.querySelector('#formulario button[type=\"submit\"]');\r\n    const btnReset = document.querySelector('#formulario button[type=\"reset\"]');\r\n    const spinner = document.querySelector('#spinner');\r\n\r\n    // Asignar eventos\r\n    inputEmail.addEventListener('input', validar);\r\n    inputAsunto.addEventListener('input', validar);\r\n    inputMensaje.addEventListener('input', validar);\r\n\r\n    formulario.addEventListener('submit', enviarEmail);\r\n\r\n    btnReset.addEventListener('click', function(e) {\r\n        e.preventDefault();\r\n        resetFormulario();\r\n    })\r\n\r\n    function enviarEmail(e) {\r\n        e.preventDefault();\r\n\r\n        spinner.classList.add('flex');\r\n        spinner.classList.remove('hidden');\r\n\r\n        setTimeout(() => {\r\n            spinner.classList.remove('flex');\r\n            spinner.classList.add('hidden');\r\n\r\n            resetFormulario();\r\n\r\n            // Crear una alerta\r\n            const alertaExito = document.createElement('P');\r\n            alertaExito.classList.add('bg-green-500', 'text-white', 'p-2', 'text-center', 'rounded-lg', 'mt-10', 'font-bold', 'text-sm', 'uppercase');\r\n            alertaExito.textContent = 'Registrado con Exito';\r\n\r\n            formulario.appendChild(alertaExito);\r\n\r\n            setTimeout(() => {\r\n                alertaExito.remove(); \r\n            }, 3000);\r\n        }, 3000);\r\n    }\r\n\r\n    function validar(e) {\r\n        if(e.target.value.trim() === '') {\r\n            mostrarAlerta(`El Campo ${e.target.id} es obligatorio`, e.target.parentElement);\r\n            email[e.target.name] = '';\r\n            comprobarEmail();\r\n            return;\r\n        }\r\n\r\n        if(e.target.id === 'email' && !validarEmail(e.target.value)) {\r\n            mostrarAlerta('El email no es válido', e.target.parentElement);\r\n            email[e.target.name] = '';\r\n            comprobarEmail();\r\n            return;\r\n        }\r\n\r\n        limpiarAlerta(e.target.parentElement);\r\n\r\n        // Asignar los valores\r\n        email[e.target.name] = e.target.value.trim().toLowerCase();\r\n\r\n        // Comprobar el objeto de email\r\n        comprobarEmail();\r\n    }\r\n\r\n    function mostrarAlerta(mensaje, referencia) {\r\n        limpiarAlerta(referencia);\r\n        \r\n        // Generar alerta en HTML\r\n        const error = document.createElement('P');\r\n        error.textContent = mensaje;\r\n        error.classList.add('bg-red-600', 'text-white', 'p-2', 'text-center');\r\n       \r\n        // Inyectar el error al formulario\r\n        referencia.appendChild(error);\r\n    }\r\n\r\n    function limpiarAlerta(referencia) {\r\n        // Comprueba si ya existe una alerta\r\n        const alerta = referencia.querySelector('.bg-red-600');\r\n        if(alerta) {\r\n            alerta.remove();\r\n        }\r\n    }\r\n\r\n    function validarEmail(email) {\r\n        const regex =  /^\\w+([.-_+]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,10})+$/;\r\n        const resultado = regex.test(email);\r\n        return resultado;\r\n    }\r\n\r\n    function comprobarEmail() {\r\n        if(Object.values(email).includes('')) {\r\n            btnSubmit.classList.add('opacity-50');\r\n            btnSubmit.disabled = true;\r\n            return\r\n        } \r\n        btnSubmit.classList.remove('opacity-50');\r\n        btnSubmit.disabled = false;\r\n    }\r\n\r\n    function resetFormulario() {\r\n        // reiniciar el objeto\r\n        email.email = '';\r\n        email.asunto = '';\r\n        email.mensaje = '';\r\n\r\n        formulario.reset();\r\n        comprobarEmail();\r\n    }\r\n});\r\n\r\n\r\n//Código Carrito\r\n\r\n// Variables\r\nconst carrito = document.querySelector('#carrito');\r\nconst listaCursos = document.querySelector('#lista-productos');\r\nconst contenedorCarrito = document.querySelector('#lista-carrito tbody');\r\nconst vaciarCarritoBtn = document.querySelector('#vaciar-carrito'); \r\nlet articulosCarrito = [];\r\n\r\n// Listeners\r\ncargarEventListeners();\r\n\r\nfunction cargarEventListeners() {\r\n     // Dispara cuando se presiona \"Agregar Carrito\"\r\n     listaCursos.addEventListener('click', agregarCurso);\r\n\r\n     // Cuando se elimina un curso del carrito\r\n     carrito.addEventListener('click', eliminarCurso);\r\n\r\n     // Al Vaciar el carrito\r\n     vaciarCarritoBtn.addEventListener('click', vaciarCarrito);\r\n\r\n\r\n     // NUEVO: Contenido cargado\r\n     document.addEventListener('DOMContentLoaded', () => {\r\n          articulosCarrito = JSON.parse( localStorage.getItem('carrito') ) || []  ;\r\n          // console.log(articulosCarrito);\r\n          carritoHTML();\r\n     });\r\n}\r\n\r\n\r\n// Función que añade el curso al carrito\r\nfunction agregarCurso(e) {\r\n     e.preventDefault();\r\n     // Delegation para agregar-carrito\r\n     if(e.target.classList.contains('agregar-carrito')) {\r\n          const curso = e.target.parentElement.parentElement;\r\n          // Enviamos el curso seleccionado para tomar sus datos\r\n          leerDatosCurso(curso);\r\n     }\r\n}\r\n\r\n// Lee los datos del curso\r\nfunction leerDatosCurso(curso) {\r\n     const infoCurso = {\r\n          titulo: curso.querySelector('h4').textContent,\r\n          precio: curso.querySelector('.precio span').textContent,\r\n          id: curso.querySelector('a').getAttribute('data-id'), \r\n          cantidad: 1\r\n     }\r\n\r\n\r\n     if( articulosCarrito.some( curso => curso.id === infoCurso.id ) ) { \r\n          const cursos = articulosCarrito.map( curso => {\r\n               if( curso.id === infoCurso.id ) {\r\n                    let cantidad = parseInt(curso.cantidad);\r\n                    cantidad++\r\n                    curso.cantidad =  cantidad;\r\n                    return curso;\r\n               } else {\r\n                    return curso;\r\n               }\r\n          })\r\n          articulosCarrito = [...cursos];\r\n     }  else {\r\n          articulosCarrito = [...articulosCarrito, infoCurso];\r\n     }\r\n\r\n     console.log(articulosCarrito)\r\n\r\n     \r\n\r\n     // console.log(articulosCarrito)\r\n     carritoHTML();\r\n}\r\n\r\n// Elimina el curso del carrito en el DOM\r\nfunction eliminarCurso(e) {\r\n     e.preventDefault();\r\n     if(e.target.classList.contains('borrar-curso') ) {\r\n          // e.target.parentElement.parentElement.remove();\r\n          const curso = e.target.parentElement.parentElement;\r\n          const cursoId = curso.querySelector('a').getAttribute('data-id');\r\n          \r\n          // Eliminar del arreglo del carrito\r\n          articulosCarrito = articulosCarrito.filter(curso => curso.id !== cursoId);\r\n\r\n          carritoHTML();\r\n     }\r\n}\r\n\r\n\r\n// Muestra el curso seleccionado en el Carrito\r\nfunction carritoHTML() {\r\n\r\n     vaciarCarrito();\r\n\r\n     articulosCarrito.forEach(curso => {\r\n          const row = document.createElement('tr');\r\n          row.innerHTML = `\r\n               <td>${curso.titulo}</td>\r\n               <td>${curso.precio}</td>\r\n               <td>${curso.cantidad} </td>\r\n               <td>\r\n                    <a href=\"#\" class=\"borrar-curso\" data-id=\"${curso.id}\">X</a>\r\n               </td>\r\n          `;\r\n          contenedorCarrito.appendChild(row);\r\n     });\r\n\r\n     // NUEVO:\r\n     sincronizarStorage();\r\n\r\n}\r\n\r\n\r\n// NUEVO: \r\nfunction sincronizarStorage() {\r\n     localStorage.setItem('carrito', JSON.stringify(articulosCarrito));\r\n}\r\n\r\n// Elimina los cursos del carrito en el DOM\r\nfunction vaciarCarrito() {\r\n     // forma rapida (recomendada)\r\n     while(contenedorCarrito.firstChild) {\r\n          contenedorCarrito.removeChild(contenedorCarrito.firstChild);\r\n      }\r\n}\r\n"]}